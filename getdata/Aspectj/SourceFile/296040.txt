Binary files differ
Binary files differ
@@ -0,0 +1,17 @@
+import java.util.Set;
+import java.util.Map.Entry;
+
+import com.google.common.collect.TreeMultimap;
+
+public class ErrorClass {
+
+    public void useGoogleCollections() {
+        TreeMultimap<String, String> countResult = TreeMultimap.create();
+        Set<Entry<String, String>> entries = countResult.entries();
+        System.out.println(entries.size());
+    }
+
+    public static void main(String[] args) {
+		new ErrorClass().useGoogleCollections();
+	}
+}
\ No newline at end of file
Binary files differ
@@ -18,6 +18,10 @@ import org.aspectj.testing.XMLBasedAjcTestCase;
 
 public class Ajc167Tests extends org.aspectj.testing.XMLBasedAjcTestCase {
 
+	public void testBrokenGeneratedCode_296040() {
+		runTest("broken generated code");
+	}
+	
 	public void testHierarchyBuilderNPE_pr293457() {
 		runTest("hierarchy builder npe");
 	}
@@ -2,6 +2,11 @@
 
 <suite>
 
+  <ajc-test dir="bugs167/pr296040" title="broken generated code">
+     <compile files="ErrorClass.java" options="-1.5" classpath="gc10rc4.jar"/>
+     <run class="ErrorClass"/>
+  </ajc-test>
+  
   <ajc-test dir="bugs167/pr293457" title="hierarchy builder npe">
      <compile files="com/citi/gdos/smart/applib/service/cache/CachingIntroduction.aj org/springmodules/cache/annotations/Cacheable.java" options="-1.5 -emacssym">
      <message kind="warning" text="no match for this type name: Setter"/>
