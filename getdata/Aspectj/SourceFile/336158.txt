Binary files differ
Binary files differ
@@ -0,0 +1,6 @@
+public class City {
+
+    public static void main(String[] args) { 
+        Keys.CITY.get();  // Keys.City cannot be resolved
+    }
+}
Binary files differ
@@ -0,0 +1,5 @@
+privileged aspect City_Roo_Op4j {
+    public static class City.Keys {
+        public static final Function<Object, City> CITY = null;
+    }
+}
Binary files differ
@@ -0,0 +1 @@
+class Function<A,B> { public void get() {}}
@@ -83,6 +83,15 @@ public class IncrementalCompilationTests extends AbstractMultiProjectIncremental
 		assertContains("B.java:4:0::0 Unhandled exception type IOException", getErrorMessages(p).get(0));
 	}
 
+	public void testITIT_336158() throws Exception {
+		String p = "pr336158";
+		initialiseProject(p);
+		build(p);
+		checkWasFullBuild();
+		assertNoErrors(p);
+		checkCompileWeaveCount(p, 3, 4);
+	}
+
 	public void testITIT_336147() throws Exception {
 		String p = "pr336147";
 		initialiseProject(p);
